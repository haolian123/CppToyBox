# 线程池

​	这是一个基于 C++ 实现的线程池类库，允许以并行方式执行多个任务。

## 特点

- **自动管理**：线程池会自动管理线程的创建和销毁，无需手动操作。
- **任务队列**：支持向线程池添加任务，线程池会自动从队列中取出并执行任务。
- **灵活性**：可以在创建线程池时指定线程数量，满足不同性能需求。

## 使用方法

1. **初始化线程池**：
   创建一个 `ThreadPool` 对象，可以指定线程池的大小（即线程数量）。如果不指定，默认为 8 个线程。

   ```cpp
   ThreadPool pool(4);  // 创建一个包含 4 个线程的线程池
   ```

2. **添加任务**：
   使用 `addTask` 方法向线程池添加任务。任务是一个无参数的函数或者可调用对象。

   ```cpp
   pool.addTask([]{
       // 任务代码
   });
   ```


## 类结构

- `class ThreadPool`：线程池的主类。
  - `ThreadPool(size_t threadNumber = 8)`：构造函数，创建一个指定大小的线程池。
  - `void addTask(T&& task)`：添加任务到线程池。
  - 析构函数：销毁线程池，等待所有任务完成。

- `struct Pool`：内部使用的结构，用于管理任务队列和线程同步。

## 注意事项

- 确保在使用线程池的过程中，`ThreadPool` 对象保持活跃。
- 任务函数应避免抛出异常，以防破坏线程池的结构。

## 示例

```cpp
#include "ThreadPool.h"

int main() {
    ThreadPool pool(4);  // 创建一个包含 4 个线程的线程池

    // 添加任务
    pool.addTask([]{
        std::cout << "执行任务 1" << std::endl;
    });
    pool.addTask([]{
        std::cout << "执行任务 2" << std::endl;
    });

    // 等待所有任务完成（在 ThreadPool 析构时自动完成）
    return 0;
}
```
